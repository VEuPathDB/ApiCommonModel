<wdkModel>
    
   <!-- notes

      - need to review mass spec params (for possible redundancy)

   -->

    <paramSet name="assemblyParams">

    <stringParam name="single_gene_id"
                     prompt="Gene ID"
                     number="false">
            <help>Gene IDs (locus tags) are quite different for each species. We use the gene IDs provided by the sequence generator.</help>
           <suggest includeProjects="FungiDB,HostDB,SchistoDB,InitDB"
                    default="FILL"/>
	   <suggest includeProjects="AmoebaDB"
		    default="EDI_317200,EHI_000530"/>

	    <suggest includeProjects="MicrosporidiaDB"
		     default="ECU08_1770"/>

           <suggest includeProjects="CryptoDB,GiardiaDB,PlasmoDB,ToxoDB,TrichDB" default="%%defaultGene%%"/>
           <suggest includeProjects="TriTrypDB"
                    default="TcCLB.510185.10"/>
           <suggest includeProjects="EuPathDB"
                    default="GL50803_10019"/>
        </stringParam>

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- best alignment only  -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <enumParam name="best_alignment_only"
                     prompt="Best alignments only"
                     multiPick="false"
                     quote="false">
      <help>
             Select yes to return only those EST assembly alignments that are the best alignment for the assembly.  Many of the assemblies align at multiple positions in the genome.  Selecting yes will consider only those alignments that are the best for each assembly
      </help>
      <enumList>   
        <enumValue>
          <term>Yes</term>
          <internal>1</internal>
        </enumValue>
        <enumValue>
          <term>No</term>
          <internal>0,1</internal>
        </enumValue>
      </enumList>   
    </enumParam>

        <stringParam name="max_number_best_alignments"
                     prompt="Maximum number of best alignments"
                     number="true">
            <help>
              EST assembly sequences can have two (or more) best alignments that have the same percent identity, length and score.  This parameter allows you to specify the maximum number of these best alignments that will be considered for any assembly to be included in the query.  For example, if you specify 1 then all the assemblies that do not have a unique best alignment will be ignored in the query.
            </help>           
            <suggest default="1"
               allowEmpty="true" emptyValue="1000" />
           <regex>\d+</regex>
        </stringParam>

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- high confidence est only  -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <enumParam name="high_confidence_only"
                     prompt="Consistent alignments only"
                     multiPick="false"
                     quote="false">
      <help>
             Select yes to return only those EST assembly alignments that are consistent.  We define define consistent as having >= 95% identity (the majority have >= 99%) and aligning the assembly sequence in a manner that is consistent with a gene model.  Ie, there can be gaps (representing introns) in the target genomic sequence but not in the assembly query.
      </help>
      <enumList>   
        <enumValue>
          <term>No</term>
          <internal>0,1</internal>
        </enumValue>
        <enumValue>
          <term>Yes</term>
          <internal>1</internal>
        </enumValue>
      </enumList>   
    </enumParam>

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!--  -->  
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <stringParam name="min_percent_identity"
                     prompt="Percent identity >="
                     number="true">
            <help>You can specify a minimum percent identity of the alignment between the EST assembly and genomic DNA.  We only store alignments with >= 90% identity</help>           
            <suggest default="90"/>
           <regex>\d+(\.\d+)?</regex>
        </stringParam>



       <stringParam name="min_percent_assembly_aligned"
                     prompt="Percent of EST assembly bases aligned >="
                     number="true">
            <help>Enter the minimum percentage of bases in the assembly sequence that are aligned to genomic DNA in this alignment.</help>
            <suggest default="20"
                          />
           <regex>\d+(\.\d+)?</regex>
        </stringParam>

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- overlap or not  -->  
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <enumParam name="overlapOrNot"
                     prompt="EST Assembly"
                     multiPick="false"
                     quote="false">
      <help>
             Select yes to return only those EST assembly alignments that are consistent.  We define define consistent as having >= 95% identity (the majority have >= 99%) and aligning the assembly sequence in a manner that is consistent with a gene model.  Ie, there can be gaps (representing introns) in the target genomic sequence but not in the assembly query.
      </help>
      <enumList>   
        <enumValue>
          <term>does overlap with a gene</term>
          <internal>INTERSECT</internal>
        </enumValue>
        <enumValue>
          <term>does not overlap with a gene</term>
          <internal>MINUS</internal>
        </enumValue>
      </enumList>   
    </enumParam>

    
    <answerParam name="assembly_result"
                  prompt="Input Result Set"
                  readonly="true"
                  visible="false">
        <recordClass ref="AssemblyRecordClasses.AssemblyRecordClass" />
    </answerParam>

</paramSet>
</wdkModel>
