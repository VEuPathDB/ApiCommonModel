
<wdkModel>
  <questionSet name="AssemblyQuestions" displayName="Search for Transcript Assemblies" excludeProjects="TrichDB,CryptoDB,PiroplasmaDB">

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- By Id :  only for component sites with  noSummaryOnSingleRecord="true"  -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="AssembliesByEstAccession"
              displayName="EST Accession(s)"
              shortDisplayName="EST Accessn."
              queryRef="AssemblyIds.ByEstAccession"
              recordClassRef="AssemblyRecordClasses.AssemblyRecordClass"
              noSummaryOnSingleRecord="true" includeProjects="TriTrypDB,CryptoDB,ToxoDB,GiardiaDB,PlasmoDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB">

        <attributesList
           summary="organism,est_count,length"
           sorting="organism asc,est_count desc"
        />
        <summary>
        Find EST Clusters by EST accession
        </summary>

        <description>
          <![CDATA[
 Find EST Assemblies by a list of IDs. Either enter the ID list manually, or upload a file that contains
           the list. IDs can be delimited by a comma, a semi colon, or any white spaces.  <br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstBySourceId">EST By Accession Query</a>.
          ]]>
        </description>

       <propertyList name="genomeAttribution">
          <value/>
       </propertyList>
       <propertyList name="specificAttribution">
           <value includeProjects="GiardiaDB,AmoebaDB,MicrosporidiaDB">dbEST</value>
           <value includeProjects="CryptoDB">CparvumESTs</value>
           <value includeProjects="CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="CryptoDB">dbEST</value>
           <value includeProjects="ToxoDB">tgonME49_dbEST_RSRC</value>
           <value includeProjects="PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>

  </question>



  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- By Id :    only for portal with  noSummaryOnSingleRecord="false"  -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="AssembliesByEstAccession"
              displayName="ID"
              shortDisplayName="EST Accessn."
              queryRef="AssemblyIds.ByEstAccession"
              recordClassRef="AssemblyRecordClasses.AssemblyRecordClass"
              noSummaryOnSingleRecord="false" includeProjects="EuPathDB">

        <attributesList
           summary="organism,est_count,length"
           sorting="organism asc,est_count desc"
        />
        <summary>
        Find EST Clusters by EST accession
        </summary>

        <description>
          <![CDATA[

        Find EST Assemblies by EST ID. Either enter the ID list manually, 
           or upload a file that contains the list. IDs can be delimited by a comma, 
           a semi colon, or any white spaces. Also, the list may contain IDs from any of the EuPathDB organisms.  For example, a list can be in the
           following form: "AA420947, EV500870, AU087658"
           NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstBySourceId">EST By Accession Query</a>.
          ]]>

      </description>

     

  </question>



  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- By Library -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="AssembliesByLibrary"
              searchCategory="Transcript Expression"
              displayName="Library"
              shortDisplayName="Library"
              queryRef="AssemblyIds.ByLibrary"
              recordClassRef="AssemblyRecordClasses.AssemblyRecordClass"
              includeProjects="EuPathDB,CryptoDB,ToxoDB,GiardiaDB,PlasmoDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB">

        <summary>Find EST Assemblies by Library Name</summary>
        <description> <![CDATA[
Find EST Assemblies by Library Name. <br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsByLibrary">EST By Library Query</a>.
        ]]>
        </description>

        <attributesList
              summary="organism,est_count,length,est_library_count"
              sorting="organism asc,est_count desc,est_library_count desc"
        />

        <propertyList name="genomeAttribution">
          <value/>
        </propertyList>
        <propertyList name="specificAttribution">
          <value includeProjects="ToxoDB,GiardiaDB,AmoebaDB,MicrosporidiaDB">dbEST</value>
          <value includeProjects="CryptoDB">CparvumESTs</value>
          <value includeProjects="CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
          <value includeProjects="CryptoDB">dbEST</value>    
          <value includeProjects="PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
          <value includeProjects="PlasmoDB">Florent_ESTLibrary</value>
          <value includeProjects="PlasmoDB">WatanabePf3D7_EstLibrary</value>
          <value includeProjects="PlasmoDB">WatanabePv_EstLibrary</value>
          <value includeProjects="PlasmoDB">WatanabePy17XL_EstLibrary</value>
        </propertyList>

        <dynamicAttributes>
          <columnAttribute name="est_library_count" displayName="ESTs from Libraries" align="center"/>
        </dynamicAttributes>
  </question>


  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- Location -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="AssembliesByLocation"
              searchCategory="Genomic Position"
              displayName="Genomic Location"
              shortDisplayName="Genomic Loc"
              queryRef="AssemblyIds.ByLocation"
              recordClassRef="AssemblyRecordClasses.AssemblyRecordClass"
              includeProjects="EuPathDB,CryptoDB,ToxoDB,GiardiaDB,PlasmoDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB">

        <attributesList 
              summary="organism, est_count, length, assembly_location,est_count"
              sorting="organism asc, assembly_location asc"
        /> 

        <dynamicAttributes>
            <columnAttribute name="assembly_location" displayName="Assembly location(s)"/>
        </dynamicAttributes>

        <summary>
            Find EST Assemblies that are located in a specified genomic region.
        </summary>


       <description includeProjects="FungiDB,HostDB,InitDB,PiroplasmaDB">
           <![CDATA[
          FILL
          ]]>
        </description>

       <description includeProjects="AmoebaDB">
           <![CDATA[
          Find genes within a given genomic region.<br>
          Enter a genomic sequence ID for any <i>E. histolytica</i>, <i>E. dispar</i> or <i>E. invadens</i> contig.
          The Start and End locations correspond to the coordinates of the gene(s) on the chromosome.  <br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsByLocation">EST By Location Query</a>.
          ]]>
        </description>

       <description includeProjects="MicrosporidiaDB">
           <![CDATA[
          FILL
          ]]>
        </description>

       <description includeProjects="CryptoDB">
           <![CDATA[
          Find genes within a given genomic region.<br>
          Select a <i>C. parvum</i> chromosome from the pull-down menu or 
          enter the name of a contig for either <i>C. parvum</i> or <i>C. hominis</i>(e.g."AAEL01000057").
          If you enter both, your result will include the union. 
          The Start and End locations correspond to the coordinates of the gene(s) on the chromosome.  <br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsByLocation">EST By Location Query</a>.
          ]]>
        </description>
      
        <description includeProjects="ToxoDB">
	      <![CDATA[
          Find EST assemblies that are located in a specified genomic region.<br><br>
          Either select a <i>T. gondii</i> chromosome from the pull-down menu
          <b>or</b> enter a sequence ID of a chromosome (e.g. "TGME49_chrIa") or a 
          scaffold (e.g. "DS984781"). <br> 
          If you enter both, your result will include the union.
          The Start and End locations correspond to the coordinates of the EST assembly(s) on the chromosome.
<br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsByLocation">EST By Location Query</a>.
          ]]>
        </description>

<description includeProjects="PlasmoDB">
              <![CDATA[
          Find EST assemblies that are located in a specified genomic region.<br><br>
          Either select a <i>Plasmodium</i> chromosome from the pull-down menu
          <b>or</b> enter a sequence ID of a chromosome (e.g. "Pf3D7_04_v3"). <br> 
          If you enter both, your result will include the union.
          The Start and End locations correspond to the coordinates of the EST assembly(s) on the chromosome.
<br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsByLocation">EST By Location Query</a>.
          ]]>
        </description>

        <description includeProjects="GiardiaDB">
           <![CDATA[
          Find Giardia EST assemblies that are located in a specific genomic region.<br>
          Enter a sequence ID of a chromosome (e.g. "AACB02000002").<br>
          The Start and End locations correspond to the coordinates of the EST assembly(s) on the chromosome.
<br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsByLocation">EST By Location Query</a>.
          ]]>
        </description>

 <description includeProjects="EuPathDB">
           <![CDATA[
          Find Crypto, Giardia, Plasmo, Neospora or Toxo EST assemblies that are located in a specific genomic region.<br>
          Enter a sequence ID of a chromosome (e.g. "AACB02000002").<br>
          The Start and End locations correspond to the coordinates of the EST assembly(s) on the chromosome.
<br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsByLocation">EST By Location Query</a>.
          ]]>
        </description>

        <description includeProjects="TriTrypDB">
           <![CDATA[
          Find EST assemblies that are located in a specified genomic region.<br><br>
          Either select an organism and chromosome from the pull-down menus <i>or</i> enter a genomic sequence ID 
          from any species (if you supply both,  your result will include the union). <br>
          The Start and End locations correspond to the coordinates of the EST assembly(s) on the chromosome.
<br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsByLocation">EST By Location Query</a>.
          ]]>
        </description>

       <propertyList name="specificAttribution">
           <value includeProjects="EuPathDB,GiardiaDB,PlasmoDB,TrichDB,ToxoDB,AmoebaDB,MicrosporidiaDB">dbEST</value>
           <value includeProjects="EuPathDB,CryptoDB">CparvumESTs</value>
           <value includeProjects="EuPathDB,CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="CryptoDB">dbEST</value>
           <value includeProjects="EuPathDB,PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>
    </question>

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- With Gene Overlap -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="AssembliesWithGeneOverlap"
         displayName="Extent of Gene Overlap"
         shortDisplayName="Gene Overlap"
         queryRef="AssemblyIds.withGeneOverlap"
         recordClassRef="AssemblyRecordClasses.AssemblyRecordClass"
         excludeProjects="TrichDB">

      
        <attributesList includeProjects="EuPathDB,ToxoDB,CryptoDB,GiardiaDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB"
           summary="organism,assembly_locations,genes,est_count, length"
           sorting="organism asc,assembly_locations asc"
        /> 
        <summary>Find EST assemblies that do or do not overlap with a gene.</summary>
        <description>
       <![CDATA[
        Find EST assemblies that Overlap a Gene.  <br /><br />DoTS Assemblies represent the consensus sequence of overlapping ESTs and mRNAs.  NOTE:  You can query for ESTs directly by using the <a href="showQuestion.do?questionFullName=EstQuestions.EstsWithGeneOverlap">EST By Gene Overlap Query</a>.
        ]]>
        </description>

        <dynamicAttributes includeProjects="EuPathDB,CryptoDB,ToxoDB,GiardiaDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB">
            <columnAttribute name="assembly_locations" displayName="Assembly location(s)"/>
            <columnAttribute name="genes" displayName="Gene(s)"/>
        </dynamicAttributes>

       <propertyList name="specificAttribution">
           <value includeProjects="EuPathDB,GiardiaDB,PlasmoDB,TrichDB,ToxoDB,AmoebaDB,MicrosporidiaDB">dbEST</value>
           <value includeProjects="EuPathDB,CryptoDB">CparvumESTs</value>
           <value includeProjects="EuPathDB,CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>
    </question>

 <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- By Gene ID -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="AssembliesByGeneIDs"
         displayName="Gene ID"
         shortDisplayName="Gene ID"
         queryRef="AssemblyIds.ByGeneIDs"
         recordClassRef="AssemblyRecordClasses.AssemblyRecordClass"
              includeProjects="EuPathDB,CryptoDB,ToxoDB,GiardiaDB,PlasmoDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB">

      
        <attributesList includeProjects="EuPathDB,ToxoDB,CryptoDB,GiardiaDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB"
           summary="organism,assembly_locations,genes,est_count, length"
           sorting="organism asc,assembly_locations asc"
        /> 
        <summary>Find EST assemblies by gene id(s).</summary>
        <description includeProjects="PlasmoDB,ToxoDB,GiardiaDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB,EuPathDB">Find EST assemblies by Gene ID(s).</description>

        <description includeProjects="CryptoDB">
       <![CDATA[
        Find EST assemblies by <i>C. parvum</i> Gene ID(s).
        ]]>
        </description>

        <dynamicAttributes includeProjects="EuPathDB,CryptoDB,ToxoDB,GiardiaDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB">
            <columnAttribute name="assembly_locations" displayName="Assembly location(s)"/>
            <columnAttribute name="genes" displayName="Gene(s)"/>
        </dynamicAttributes>

       <propertyList name="specificAttribution">
           <value includeProjects="EuPathDB,GiardiaDB,PlasmoDB,TrichDB,ToxoDB,AmoebaDB,MicrosporidiaDB">dbEST</value>
           <value includeProjects="EuPathDB,CryptoDB">CparvumESTs</value>
           <value includeProjects="EuPathDB,CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>
    </question>

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- BLAST Similarity -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="AssembliesBySimilarity"
         displayName="BLAST"
         shortDisplayName="BLAST"
         searchCategory="Similarity/Pattern"
         queryRef="AssemblyIds.BySimilarity"
         recordClassRef="AssemblyRecordClasses.AssemblyRecordClass"
         customJavascript="blast.js"
         fullAnswer="true">

        <attributesList
          summary="primary_key,organism,score,evalue"
          sorting="score desc"        
        /> 

        <summary>
           Find EST assemblies that have BLAST similarity to your input sequence.
        </summary>

        <description>
           <![CDATA[
      As of 3 Feb 2014, this search uses NCBI-BLAST to determine sequence similarity. 
			Prior versions of the search used WU-BLAST.
		  <a target="_blank" href="http://www.ncbi.nlm.nih.gov/blast/Blast.cgi?CMD=Web&PAGE_TYPE=BlastDocs">NCBI-BLAST help.</a>
          ]]>
        </description>

         <summaryView name="blast-view" display="BLAST" default="true"
                      jsp="/wdkCustomization/jsp/results/blast-view.jsp" 
                      handlerClass="org.eupathdb.common.model.view.BlastSummaryViewHandler" />

        <dynamicAttributes>
             <columnAttribute name="evalue_mant" internal="true" inReportMaker="false"/>
             <columnAttribute name="evalue_exp" internal="true" inReportMaker="false"/>
             <columnAttribute name="score" displayName="Score" />
             <columnAttribute name="summary" displayName="Summary" internal="true" inReportMaker="false"/>
             <columnAttribute name="alignment" displayName="Alignment" internal="true" inReportMaker="false"/>
	      <textAttribute name="evalue" displayName="E-Value">
                <text>
                   <![CDATA[ $$evalue_mant$$E$$evalue_exp$$ ]]>
                </text>
          </textAttribute>
        </dynamicAttributes>
  </question>


    <question name="AssembliesByWeightFilter"
              shortDisplayName="Weight"
              displayName="Filter by Weight"
              queryRef="AssemblyIds.ByWeightFilter"
              recordClassRef="AssemblyRecordClasses.AssemblyRecordClass">
        <attributesList
           summary="wdk_weight"
        />
        <description>
           <![CDATA[
            Filter away results that have a weight outside the specified range.  
            (This transform is only useful if the input result sets have used weights)
          ]]>
        </description>
    </question>


  </questionSet>

</wdkModel>
