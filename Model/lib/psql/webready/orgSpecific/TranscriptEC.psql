
DROP TABLE if exists :SCHEMA.:ORG_ABBREVTranscriptECTmp;
/*

ATTENTION: This table is empty. We will populate it in the comparative graph so that we can include ortho-derived EC numbers. 
We are creating them it so that they it is partitioned.
*/

/* This table maps EC numbers to transcripts */

CREATE UNLOGGED TABLE :SCHEMA.:ORG_ABBREVTranscriptECTmp (
    source_id    VARCHAR(80),
    gene_source_id  VARCHAR(80),
    enzyme_class_id NUMERIC(12),
    ec_number    VARCHAR(16),
    ec_number_1  NUMERIC(3),
    ec_number_2  NUMERIC(3),
    ec_number_3  NUMERIC(3),
    ec_number_4  NUMERIC(3),
    wildcard_count  NUMERIC(3),
    evidence_code   VARCHAR(255),

    -- fields required for partitioning
    project_id  VARCHAR(20),
    org_abbrev  VARCHAR(20),
    modification_date   timestamp

);


:CREATE_AND_POPULATE
select tet.* from :SCHEMA.:ORG_ABBREVTranscriptECTmp tet
:DECLARE_PARTITION;

DROP TABLE :SCHEMA.:ORG_ABBREVTranscriptECTmp;
